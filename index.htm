<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="css/bootstrap.css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="css/main.css">
<script src=http://code.jquery.com/jquery-2.0.3.min.js></script>
<script src=http:////netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js></script>
<script src=js/handlebars-v1.1.2.js></script>
<script src=js/amplify.min.js></script>

<!-- Define default template -->
<script data-body type="text/x-handlebars-template">
{{>header}}
{{>body}}
</script>
<!-- Include header -->
<script data-name="header" src="tmpl/header.tmpl"></script>

<script data-name="body" type="text/x-handlebars-template">
<div class="page-header" style="background:#fff">
	<div class="container">
		<div class="dropdown">
			<a href="#" data-toggle="dropdown"><h2>Everything <img src="img/fravr-dropdown.png"></h2></a>
			<ul class="dropdown-menu">
				<li><a href="#">Everything</a></li>
				<li><a href="#">Social</a></li>
				<li><a href="#">Recommended</a></li>
			</ul>
		</div>
	</div>
</div>
<!--
<div class="fravr-timeline">
<div class="container">
	<div class="row">
		<div class="col-md-6">
		</div>
		<div class="col-md-6">
			<div class="item">
				<img src="img/products/Brick Full Grain NYC NATO Watch Strap by Worn & Wound 59.jpg">
				<span class="title">Brick Full Grain NYC NATO Watch Strap</span>
				<span class="subtitle">by Sinn</span>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-md-4">
			<div class="item">
				<img src="img/products/Brick Full Grain NYC NATO Watch Strap by Worn & Wound 59.jpg">
				<span class="title">Brick Full Grain NYC NATO Watch Strap</span>
				<span class="subtitle">by Sinn</span>
			</div>
		</div>
		<div class="col-md-4">
			<div class="item">
				<img src="img/products/Brick Full Grain NYC NATO Watch Strap by Worn & Wound 59.jpg">
				<span class="title">Brick Full Grain NYC NATO Watch Strap</span>
				<span class="subtitle">by Sinn</span>
			</div>
		</div>
		<div class="col-md-4">
			<div class="item">
				<img src="img/products/Brick Full Grain NYC NATO Watch Strap by Worn & Wound 59.jpg">
				<span class="title">Brick Full Grain NYC NATO Watch Strap</span>
				<span class="subtitle">by Sinn</span>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-md-6">
			<div class="item">
				<img src="img/products/Brick Full Grain NYC NATO Watch Strap by Worn & Wound 59.jpg">
				<span class="title">Brick Full Grain NYC NATO Watch Strap</span>
				<span class="subtitle">by Sinn</span>
			</div>
		</div>
		<div class="col-md-6">
			<div class="item">
				<img src="img/products/Brick Full Grain NYC NATO Watch Strap by Worn & Wound 59.jpg">
				<span class="title">Brick Full Grain NYC NATO Watch Strap</span>
				<span class="subtitle">by Sinn</span>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-md-3">
			<div class="item">
				<img src="img/products/Brick Full Grain NYC NATO Watch Strap by Worn & Wound 59.jpg">
				<span class="title">Brick Full Grain NYC NATO Watch Strap</span>
				<span class="subtitle">by Sinn</span>
			</div>
		</div>
		<div class="col-md-3">
			<div class="item">
				<img src="img/products/Brick Full Grain NYC NATO Watch Strap by Worn & Wound 59.jpg">
				<span class="title">Brick Full Grain NYC NATO Watch Strap</span>
				<span class="subtitle">by Sinn</span>
			</div>
		</div>
		<div class="col-md-3">
			<div class="item">
				<img src="img/products/Brick Full Grain NYC NATO Watch Strap by Worn & Wound 59.jpg">
				<span class="title">Brick Full Grain NYC NATO Watch Strap</span>
				<span class="subtitle">by Sinn</span>
			</div>
		</div>
		<div class="col-md-3">
			<div class="item">
				<img src="img/products/Brick Full Grain NYC NATO Watch Strap by Worn & Wound 59.jpg">
				<span class="title">Brick Full Grain NYC NATO Watch Strap</span>
				<span class="subtitle">by Sinn</span>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-md-6">
			<div class="item">
				<img src="img/products/Brick Full Grain NYC NATO Watch Strap by Worn & Wound 59.jpg">
				<span class="title">Brick Full Grain NYC NATO Watch Strap</span>
				<span class="subtitle">by Sinn</span>
			</div>
		</div>
		<div class="col-md-6">
			<div class="item">
				<img src="img/products/Brick Full Grain NYC NATO Watch Strap by Worn & Wound 59.jpg">
				<span class="title">Brick Full Grain NYC NATO Watch Strap</span>
				<span class="subtitle">by Sinn</span>
			</div>
		</div>
	</div>
</div>
</div>
-->
</script>
<script data-item type="text/x-handlebars-template">
<div class="item">
	<img src="{{product.img_urls.0.url}}">
	<span class="title">{{product.name}}</span>
	{{#if actions}}
	<span class="subtitle">by {{product.merchant}}</span>
	{{else}}
		{{#ifequals actions.length 0}}
		<span class="subtitle">by {{product.merchant}}</span>
		{{else}}
			{{#ifequals actions.length 1}}
				{{#ifequals actions.0.action 'purchase'}}
					<span class="subtitle">by {{product.merchant}}</span>
				{{/ifequals}}
			{{else}}
			<span class="subtitle"></span>
			{{/ifequals}}
		{{/ifequals}}
	{{/if}}
</div>
</script>
<script src=data/data.js></script>
<script src=js/main.js></script>
<!-- Events -->
<script>
//Compile timeline template
// Template.set('timeline', $('script[data-item]').html());

//Generate html code in body and register partial 'timeline'
var Timeline = function (type) {
	var that = {};
	var timeline = $("<div class='fravr-timeline'></div>"),
		container = $("<div class='container'></div>"),
		row = $("<div class='row'></div>"),
		count = Data.timeline[type].length,
		row1x2 = function () {
		},
		row1x3 = function () {
		},
		row1x4 = function () {
		},
		pointer = 0,
		buffer = {};

	that.loadSize = function (num, successCallback) {
		for (var i=0; i<num; i+=1) {
			var image = new Image();
			// var imgId = 'invis-' + pointer.toString();
			$(image).load(function () {
					Data.timeline[type][pointer].product.img_urls[0].size = {
						width: $(this).width(),
						height: $(this).height()
					}
					$(this).remove(); //Remove this image from DOM
				})
				.css('display','none')
				.attr('src',
					Data.timeline[type][pointer].product.img_urls[0].url)
				.appendTo('body');

			$( body ).append("<img id='invis-0' style='display:none' src='"+
					 +"'>");
		}
		pointer+=num;
	}

	that.create = function () {
	}
}();

$( document ).ready(function () {
	$('a[data-toggle]').on('click', function (event) {
		event.preventDefault();
	});
});

$( document ).on('load', function () {
	Main.createTimeline('everything');
});
</script>
</head>

<body style="background:#f1f1f1">
</body>
</html>
